---
title: "Final Project: MLB Payroll vs Wins"
author: "Andrew Diveley"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
install.packages("googlesheets4")
library(googlesheets4)
```

## Planned Analysis

First, I will calculate descriptive statistics for both payroll and win totals across the three seasons. This will help summarize trends in the data and highlight whether certain years had higher or lower averages overall.

Second, I plan to use scatterplots and linear regression models to measure the relationship between payroll and wins. I’ll run a regression for each season and also consider combining all three years into a single model to see if the relationship holds over time. I’ll report the slope, intercept, and adjusted R-squared values to evaluate how strong the connection is.

Third, I may use log transformation on payroll if the data is heavily skewed, which we’ve done before to improve linear model fit. I’ll check scatterplots and histograms to decide whether that’s necessary.

Fourth, I plan to calculate correlations to support the regression models and compare how strong the payroll-win relationship is in different years. I may also explore residuals to identify outliers—teams that significantly overperformed or underperformed based on their payrolls.

I also want to experiment with grouping teams into quartiles by payroll to compare average win totals in each spending group. This would let me see if there’s a clear difference in performance between low-spending and high-spending teams.

Finally, if time allows, I may try a multiple regression using payroll and a dummy variable for the year to see whether the payroll-wins relationship changes over time. If I had more variables, I could do more here, but I’ll work with what I have.

## Task 1: Data Exploration

My dataset includes regular season wins and team payrolls for all 30 MLB teams from 2022 to 2024. I got everything from Spotrac, which tracks how much each team spends on player salaries. Each team has win totals and payroll figures for each of the three seasons. The goal is to see if spending more money helps teams win more games.

The data only covers the regular season. It doesn’t include playoff performance or any player-level stats. That means I can’t look at how far teams go in the postseason or how individual contracts affect team results. Still, regular season wins give a clear picture of how teams perform over a long stretch.

The most important columns are the win totals and payroll amounts for each year. I’m looking to see if there’s a clear link between how much a team spends and how many games it wins. I’ll use those numbers to run regressions and make visualizations. Those will help me spot patterns or outliers.

One thing missing from the data is any context about why a team performed a certain way. I don’t have info on injuries, trades, or how well players played. I also don’t have advanced stats like run differential. So I can’t explain everything, but I can still look at big-picture trends.

I want to find out how strong the connection is between payroll and wins, and whether it changes from year to year. I also want to know if there are teams that keep doing better or worse than expected based on how much they spend. Finally, I want to see if there's a point where more spending stops helping as much.

```{r load-data}
mlb_data <- read_sheet("https://docs.google.com/spreadsheets/d/11bhOOC9QjHO-KDpsdtx7Veh8VaZYXTuSK1maateFKlI/edit?usp=sharing")

# Preview structure
View(mlb_data)
```
